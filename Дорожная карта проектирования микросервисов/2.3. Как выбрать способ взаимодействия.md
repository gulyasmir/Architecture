# Как выбрать способ взаимодействия

Выбор правильного метода взаимодействия микросервисов зависит от различных факторов, включая специфические требования приложения, характер задействованных сервисов и ожидаемую нагрузку. Вот некоторые ключевые факторы, которые следует учитывать при выборе метода связи:

#### **Латентность** —

это время, необходимое для прохождения сообщения от отправителя к получателю и обратно. Синхронные методы коммуникации, такие как REST и RPC, обычно имеют более высокую латентность по сравнению с асинхронными методами.1. Выбирайте синхронные методы для задач, где требуется немедленный ответ.

Используйте асинхронные методы для некритичных по времени операций, где задержка может быть терпимой или не требуется немедленного ответа на запрос.


#### 2. **Консистентность данных** —

 обеспечение целостности данных в распределённых сервисах может быть непростой задачей. Синхронные методы могут обеспечить более надёжные гарантии согласованности, в то время как асинхронные методы могут обеспечить только возможную согласованность.

Используйте методы синхронного взаимодействия для операций, требующих немедленной согласованности. Асинхронные методы подходят для сценариев, в которых допустима конечная согласованность.

#### 3. **Масштабируемость** 

подразумевает способность справляться с растущими нагрузками путём добавления дополнительных ресурсов. Асинхронные методы обычно обеспечивают лучшую масштабируемость, поскольку они разделяют сервисы и могут обрабатывать изменяющиеся нагрузки с помощью очередей сообщений.


Используйте асинхронные методы для сервисов, которые должны масштабироваться независимо друг от друга и обрабатывать всплески трафика. Используйте синхронные методы для более простых, тесно связанных взаимодействий.

#### 4. **Отказоустойчивость** —

способность системы продолжать работу в случае сбоя. Асинхронные методы обеспечивают более высокую отказоустойчивость, поскольку они буферизируют сообщения и позволяют сервисам обрабатывать их, когда они доступны. Применяйте асинхронную обработку данных для повышения отказоустойчивости и предотвращения потери сообщений при сбоях в работе служб.

Синхронные методы требуют надёжной обработки ошибок и механизмов повторных попыток для достижения отказоустойчивости.
